{
    "version": 3,
    "file": "NestedSelect.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Form/NestedSelect.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport Overlay from '../../components/Overlay';\nimport Checkbox from '../../components/Checkbox';\nimport PopOver from '../../components/PopOver';\nimport {RootCloseWrapper} from 'react-overlays';\nimport {Icon} from '../../components/icons';\nimport {\n  autobind,\n  flattenTree,\n  filterTree,\n  string2regExp,\n  getTreeAncestors,\n  getTreeParent\n} from '../../utils/helper';\nimport {\n  FormOptionsControl,\n  OptionsControl,\n  OptionsControlProps\n} from '../Form/Options';\nimport {Option, Options} from '../../components/Select';\nimport {findDOMNode} from 'react-dom';\nimport {ResultBox, Spinner} from '../../components';\nimport xor from 'lodash/xor';\nimport union from 'lodash/union';\nimport {isEqual} from 'lodash';\n\n/**\n * Nested Select\n * 文档：https://baidu.gitee.io/amis/docs/components/form/nested-select\n */\nexport interface NestedSelectControlSchema extends FormOptionsControl {\n  type: 'nested-select';\n}\n\nexport interface NestedSelectProps extends OptionsControlProps {\n  cascade?: boolean;\n  withChildren?: boolean;\n}\n\nexport interface NestedSelectState {\n  isOpened?: boolean;\n  isFocused?: boolean;\n  inputValue?: string;\n  stack: Array<Array<Option>>;\n}\n\nexport default class NestedSelectControl extends React.Component<\n  NestedSelectProps,\n  NestedSelectState\n> {\n  static defaultProps: Partial<NestedSelectProps> = {\n    cascade: false,\n    withChildren: false,\n    searchPromptText: 'Select.searchPromptText',\n    checkAll: true,\n    checkAllLabel: '全选'\n  };\n  target: any;\n  input: HTMLInputElement;\n  state: NestedSelectState = {\n    isOpened: false,\n    isFocused: false,\n    inputValue: '',\n    stack: [this.props.options]\n  };\n\n  @autobind\n  domRef(ref: any) {\n    this.target = ref;\n  }\n\n  componentDidUpdate(prevProps: NestedSelectProps) {\n    if (prevProps.options !== this.props.options) {\n      this.setState({\n        stack: [this.props.options]\n      });\n    }\n  }\n\n  @autobind\n  handleOutClick(e: React.MouseEvent<any>) {\n    const {options} = this.props;\n    e.defaultPrevented ||\n      this.setState({\n        isOpened: true\n      });\n  }\n\n  @autobind\n  close() {\n    this.setState({\n      isOpened: false\n    });\n  }\n\n  removeItem(index: number, e?: React.MouseEvent<HTMLElement>) {\n    let {\n      onChange,\n      selectedOptions,\n      joinValues,\n      valueField,\n      extractValue,\n      delimiter,\n      value\n    } = this.props;\n\n    e && e.stopPropagation();\n\n    selectedOptions.splice(index, 1);\n\n    if (joinValues) {\n      value = (selectedOptions as Options)\n        .map(item => item[valueField || 'value'])\n        .join(delimiter || ',');\n    } else if (extractValue) {\n      value = (selectedOptions as Options).map(\n        item => item[valueField || 'value']\n      );\n    }\n\n    onChange(value);\n  }\n\n  @autobind\n  renderValue(item: Option, key?: any) {\n    const {classnames: cx, labelField, options} = this.props;\n    const ancestors = getTreeAncestors(options, item, true);\n\n    return (\n      <span className={cx('Select-valueLabel')} key={key}>\n        {`${\n          ancestors\n            ? ancestors\n                .map(item => `${item[labelField || 'label']}`)\n                .join(' / ')\n            : item[labelField || 'label']\n        }`}\n      </span>\n    );\n  }\n\n  @autobind\n  handleOptionClick(option: Option) {\n    const {\n      multiple,\n      onChange,\n      joinValues,\n      extractValue,\n      valueField\n    } = this.props;\n\n    if (multiple) {\n      return;\n    }\n\n    onChange(\n      joinValues\n        ? option[valueField || 'value']\n        : extractValue\n        ? option[valueField || 'value']\n        : option\n    );\n    !multiple && this.close();\n  }\n\n  @autobind\n  handleCheck(option: Option | Options, index?: number) {\n    const {\n      onChange,\n      selectedOptions,\n      joinValues,\n      delimiter,\n      extractValue,\n      withChildren,\n      cascade,\n      options\n    } = this.props;\n    const {stack} = this.state;\n\n    let valueField = this.props.valueField || 'value';\n\n    if (\n      !Array.isArray(option) &&\n      option.children &&\n      option.children.length &&\n      typeof index === 'number'\n    ) {\n      if (stack[index]) {\n        stack.splice(index + 1, 1, option.children);\n      } else {\n        stack.push(option.children);\n      }\n    }\n\n    const items = selectedOptions;\n    let value: any[];\n\n    // 三种情况：\n    // 1.全选，option为数组\n    // 2.单个选中，且有children\n    // 3.单个选中，没有children\n\n    if (Array.isArray(option)) {\n      option = withChildren ? flattenTree(option) : option;\n      value = items.length === option.length ? [] : (option as Options);\n    } else if (Array.isArray(option.children)) {\n      if (cascade) {\n        value = xor(items, [option]);\n      } else if (withChildren) {\n        option = flattenTree([option]);\n        const isEvery = (option as Options).every(opt => !!~items.indexOf(opt));\n        value = (isEvery ? xor : union)(items, option as any);\n      } else {\n        value = items.filter(item => !~flattenTree([option]).indexOf(item));\n        !~items.indexOf(option) && value.push(option);\n      }\n    } else {\n      value = xor(items, [option]);\n    }\n\n    if (!cascade) {\n      let toCheck = option;\n\n      while (true) {\n        const parent = getTreeParent(options, toCheck as any);\n        if (parent?.value) {\n          // 如果所有孩子节点都勾选了，应该自动勾选父级。\n\n          if (parent.children.every((child: any) => ~value.indexOf(child))) {\n            parent.children.forEach((child: any) => {\n              const index = value.indexOf(child);\n              if (~index && !withChildren) {\n                value.splice(index, 1);\n              }\n            });\n            value.push(parent);\n            toCheck = parent;\n            continue;\n          }\n        }\n        break;\n      }\n    }\n\n    onChange(\n      joinValues\n        ? value.map(item => item[valueField as string]).join(delimiter)\n        : extractValue\n        ? value.map(item => item[valueField as string])\n        : value\n    );\n  }\n\n  allChecked(options: Options): boolean {\n    const {selectedOptions, withChildren} = this.props;\n    return options.every(option => {\n      if (withChildren && option.children) {\n        return this.allChecked(option.children);\n      }\n      return selectedOptions.some(item => item === option);\n    });\n  }\n\n  partialChecked(options: Options): boolean {\n    return options.some(option => {\n      const childrenPartialChecked =\n        option.children && this.partialChecked(option.children);\n      return (\n        childrenPartialChecked ||\n        this.props.selectedOptions.some(item => item === option)\n      );\n    });\n  }\n\n  reload() {\n    const reload = this.props.reloadOptions;\n    reload && reload();\n  }\n\n  @autobind\n  onFocus(e: any) {\n    this.props.disabled ||\n      this.state.isOpened ||\n      this.setState({\n        isFocused: true\n      });\n  }\n\n  @autobind\n  onBlur(e: any) {\n    this.setState({\n      isFocused: false\n    });\n  }\n\n  @autobind\n  getTarget() {\n    if (!this.target) {\n      this.target = findDOMNode(this) as HTMLElement;\n    }\n    return this.target as HTMLElement;\n  }\n\n  @autobind\n  handleKeyPress(e: React.KeyboardEvent) {\n    if (e.key === ' ') {\n      this.handleOutClick(e as any);\n      e.preventDefault();\n    }\n  }\n\n  @autobind\n  handleInputKeyDown(event: React.KeyboardEvent) {\n    const inputValue = this.state.inputValue;\n    const {multiple, selectedOptions} = this.props;\n\n    if (\n      event.key === 'Backspace' &&\n      !inputValue &&\n      selectedOptions.length &&\n      multiple\n    ) {\n      this.removeItem(selectedOptions.length - 1);\n    }\n  }\n\n  @autobind\n  handleInputChange(inputValue: string) {\n    const {options, labelField, valueField} = this.props;\n\n    const regexp = string2regExp(inputValue);\n\n    let filtedOptions =\n      inputValue && this.state.isOpened\n        ? filterTree(\n            options,\n            option =>\n              regexp.test(option[labelField || 'label']) ||\n              regexp.test(option[valueField || 'value']) ||\n              !!(option.children && option.children.length),\n            1,\n            true\n          )\n        : options.concat();\n\n    this.setState({\n      inputValue,\n      stack: [filtedOptions]\n    });\n  }\n\n  @autobind\n  handleResultChange(value: Array<Option>) {\n    const {\n      joinValues,\n      extractValue,\n      delimiter,\n      valueField,\n      onChange,\n      multiple\n    } = this.props;\n\n    let newValue: any = Array.isArray(value) ? value.concat() : [];\n\n    if (!multiple && !newValue.length) {\n      onChange('');\n      return;\n    }\n\n    if (joinValues || extractValue) {\n      newValue = value.map(item => item[valueField || 'value']);\n    }\n\n    if (joinValues) {\n      newValue = newValue.join(delimiter || ',');\n    }\n\n    onChange(newValue);\n  }\n\n  renderOptions() {\n    const {\n      multiple,\n      selectedOptions,\n      classnames: cx,\n      options: propOptions,\n      disabled,\n      checkAll,\n      checkAllLabel,\n      translate: __,\n      labelField,\n      cascade\n    } = this.props;\n    const valueField = this.props.valueField || 'value';\n\n    const stack = this.state.stack;\n\n    let partialChecked = this.partialChecked(propOptions);\n    let allChecked = this.allChecked(propOptions);\n\n    return (\n      <>\n        {stack.map((options, index) => (\n          <div key={index} className={cx('NestedSelect-menu')}>\n            {multiple && checkAll && index === 0 ? (\n              <div className={cx('NestedSelect-option', 'checkall')}>\n                <Checkbox\n                  size=\"sm\"\n                  onChange={this.handleCheck.bind(this, options)}\n                  checked={partialChecked}\n                  partial={partialChecked && !allChecked}\n                ></Checkbox>\n                <span onClick={this.handleCheck.bind(this, options)}>\n                  {__(checkAllLabel)}\n                </span>\n              </div>\n            ) : null}\n\n            {options.map((option: Option, idx: number) => {\n              const ancestors = getTreeAncestors(propOptions, option as any);\n              const parentChecked = ancestors?.some(\n                item => !!~selectedOptions.indexOf(item)\n              );\n              const uncheckable = cascade ? false : multiple && parentChecked;\n              const selfChecked =\n                uncheckable || !!~selectedOptions.indexOf(option);\n\n              const parentDisabled = ancestors?.some(item => !!item.disabled);\n              let nodeDisabled =\n                uncheckable || option.disabled || parentDisabled || !!disabled;\n\n              let selfChildrenChecked = !!(\n                option.children && this.partialChecked(option.children)\n              );\n\n              return (\n                <div\n                  key={idx}\n                  className={cx('NestedSelect-option', {\n                    'is-active':\n                      !nodeDisabled &&\n                      (selfChecked || (!cascade && selfChildrenChecked))\n                  })}\n                  onMouseEnter={this.onMouseEnter.bind(this, option, index)}\n                >\n                  {multiple ? (\n                    <Checkbox\n                      size=\"sm\"\n                      onChange={this.handleCheck.bind(this, option, index)}\n                      trueValue={option[valueField]}\n                      checked={selfChecked || (!cascade && selfChildrenChecked)}\n                      partial={!selfChecked}\n                      disabled={nodeDisabled}\n                    ></Checkbox>\n                  ) : null}\n\n                  <div\n                    className={cx('NestedSelect-optionLabel', {\n                      'is-disabled': nodeDisabled\n                    })}\n                    onClick={() =>\n                      !nodeDisabled &&\n                      (multiple\n                        ? this.handleCheck(option, index)\n                        : this.handleOptionClick(option))\n                    }\n                  >\n                    {option[labelField || 'label']}\n                  </div>\n\n                  {option.children && option.children.length ? (\n                    <div className={cx('NestedSelect-optionArrowRight')}>\n                      <Icon icon=\"right-arrow\" className=\"icon\" />\n                    </div>\n                  ) : null}\n                </div>\n              );\n            })}\n          </div>\n        ))}\n      </>\n    );\n  }\n\n  onMouseEnter(option: Option, index: number, e: MouseEvent) {\n    let {stack} = this.state;\n    index = index + 1;\n\n    const children = option.children;\n    if (children && children.length) {\n      if (stack[index]) {\n        stack.splice(index, 1, children);\n      } else {\n        stack.push(children);\n      }\n    } else {\n      stack[index] && stack.splice(index, 1);\n    }\n\n    this.setState({stack: stack.slice(0, index + 1)});\n  }\n\n  renderOuter() {\n    const {popOverContainer, classnames: cx} = this.props;\n\n    let body = (\n      <RootCloseWrapper\n        disabled={!this.state.isOpened}\n        onRootClose={this.close}\n      >\n        <div className={cx('NestedSelect-menuOuter')}>\n          {this.renderOptions()}\n        </div>\n      </RootCloseWrapper>\n    );\n\n    return (\n      <Overlay\n        container={popOverContainer || this.getTarget}\n        target={this.getTarget}\n        show\n      >\n        <PopOver className={cx('NestedSelect-popover')}>{body}</PopOver>\n      </Overlay>\n    );\n  }\n\n  render() {\n    const {\n      className,\n      disabled,\n      classnames: cx,\n      multiple,\n      placeholder,\n      translate: __,\n      inline,\n      searchable,\n      autoComplete,\n      selectedOptions,\n      clearable,\n      loading\n    } = this.props;\n\n    return (\n      <div className={cx('NestedSelectControl', className)}>\n        <ResultBox\n          disabled={disabled}\n          ref={this.domRef}\n          placeholder={__(placeholder || '空')}\n          className={cx(`NestedSelect`, {\n            'NestedSelect--inline': inline,\n            'NestedSelect--single': !multiple,\n            'NestedSelect--multi': multiple,\n            'NestedSelect--searchable': searchable,\n            'is-opened': this.state.isOpened,\n            'is-focused': this.state.isFocused\n          })}\n          result={\n            multiple\n              ? selectedOptions\n              : selectedOptions.length\n              ? this.renderValue(selectedOptions[0])\n              : ''\n          }\n          onResultClick={this.handleOutClick}\n          value={this.state.inputValue}\n          onChange={this.handleInputChange}\n          onResultChange={this.handleResultChange}\n          itemRender={this.renderValue}\n          onKeyPress={this.handleKeyPress}\n          onFocus={this.onFocus}\n          onBlur={this.onBlur}\n          onKeyDown={this.handleInputKeyDown}\n          clearable={clearable}\n          allowInput={searchable}\n          inputPlaceholder={''}\n        >\n          {loading ? <Spinner size=\"sm\" /> : undefined}\n        </ResultBox>\n        {this.state.isOpened ? this.renderOuter() : null}\n      </div>\n    );\n  }\n}\n\n@OptionsControl({\n  type: 'nested-select'\n})\nexport class NestedSelectControlRenderer extends NestedSelectControl {}\n"
    ]
}